//[zone, borb, TLMax, activeZones]
let ascTable =
[[1000000,437,908436,91564],[1021386,442,927297,94089],[1057305,449,960944,96361],[1079145,454,980205,98940],[1116123,462,1014873,101250],[1138607,467,1034702,103905],[1176718,474,1046759,129959],[1199890,479,1090893,108997],[1213981,482,1103319,110662],[1225898,484,1135313,90585],[1236907,487,1141704,95203],[1247076,489,1147607,99469],[1256469,490,1153060,103409],[1265145,492,1158097,107048],[1273160,494,1162750,110410],[1292102,497,1167047,125055],[1309598,501,1178248,131350],[1325760,504,1192788,132972],[1340689,507,1206219,134470],[1354478,509,1218625,135853],[1367215,512,1230085,137130],[1378980,514,1252208,126772],[1389847,516,1261985,127862],[1399885,518,1271016,128869],[1409157,520,1279358,129799],[1417722,521,1287064,130658],[1437191,525,1294181,143010],[1455175,528,1310361,144814],[1471787,531,1325306,146481],[1487131,534,1339111,148020],[1501304,537,1351862,149442],[1514395,539,1363640,150755],[1526488,541,1374520,151968],[1537658,543,1396127,141531],[1547975,545,1405410,142565],[1557505,547,1413984,143521],[1566308,548,1421903,144405],[1574439,550,1429219,145220],[1581950,551,1435976,145974],[1600437,554,1442218,158219],[1617513,557,1457581,159932],[1633286,560,1471772,161514],[1647856,562,1484880,162976],[1661313,565,1496987,164326],[1673744,567,1508171,165573],[1685227,569,1518502,166725],[1695833,571,1528044,167789],[1705629,572,1548407,157222],[1714678,574,1556548,158130],[1723037,575,1564068,158969],[1730758,576,1571014,159744],[1737890,578,1577431,160459],[1744477,579,1583357,161120],[1750562,580,1588832,161730],[1756182,581,1593888,162294],[1761374,582,1598559,162815],[1766169,582,1602874,163295],[1770599,583,1606859,163740],[1774691,584,1610540,164151],[1778470,584,1613940,164530],[1781961,585,1617081,164880],[1805978,589,1619982,185996],[1828163,593,1639941,188222],[1848655,596,1658378,190277],[1867583,599,1675407,192176],[1885067,602,1691137,193930],[1901217,604,1705667,195550],[1916135,607,1719088,197047],[1929913,609,1752277,177636],[1954180,613,1763728,190452],[1976594,616,1783894,192700],[1997298,620,1802521,194777],[2016423,623,1819727,196696],[2034088,625,1835620,198468],[2050405,628,1850300,200105],[2065477,630,1863860,201617],[2079398,632,1887924,191474],[2092258,634,1899493,192765],[2104136,636,1910180,193956],[2115108,638,1920051,195057],[2125242,639,1929169,196073],[2134603,641,1937591,197012],[2143250,642,1945370,197880],[2162796,645,1952556,210240],[2180849,648,1968799,212050],[2197526,650,1983802,213724],[2212929,652,1997661,215268],[2227158,655,2010462,216696],[2240300,656,2022286,218014],[2252440,658,2033208,219232],[2263653,660,2043296,220357],[2274011,661,2052615,221396],[2283578,663,2061223,222355],[2292416,664,2069173,223243],[2300578,665,2088075,212503],[2308118,666,2094859,213259],[2315083,667,2101125,213958],[2321516,668,2106913,214603],[2327458,669,2112259,215199],[2332947,670,2117197,215750],[2338017,671,2121758,216259],[2342700,671,2125972,216728],[2347026,672,2129863,217163],[2351022,673,2133458,217564],[2354712,673,2136779,217933],[2358122,674,2139846,218276],[2361271,674,2142679,218592],[2396521,679,2145296,251225],[2429081,684,2174590,254491],[2459157,688,2201649,257508],[2486938,692,2226643,260295],[2512599,695,2249730,262869],[2547841,700,2271055,276786],[2580393,705,2332683,247710],[2610461,709,2359735,250726],[2638235,713,2384722,253513],[2663889,716,2407803,256086],[2687586,719,2429122,258464],[2709474,722,2460354,249120],[2741250,727,2478544,262706],[2770602,730,2504951,265651],[2797713,734,2529343,268370],[2822756,737,2551873,270883],[2845888,740,2572685,273203],[2867255,743,2591908,275347],[2886991,746,2609665,277326],[2905222,748,2626066,279156],[2922061,750,2652774,269287],[2937615,752,2666768,270847],[2984324,758,2679694,304630],[3027468,764,2718510,308958],[3067321,769,2754365,312956],[3115671,775,2787483,328188],[3160331,780,2827664,332667],[3201583,785,2897119,304464],[3239688,790,2931401,308287],[3274884,794,2963067,311817],[3307395,798,2992316,315079],[3348983,803,3030873,318110],[3387398,808,3065434,321964],[3422881,812,3097357,325524],[3455657,816,3126845,328812],[3497480,821,3154082,343398],[3556905,828,3188839,368066],[3611794,834,3249781,362013],[3662496,840,3295396,367100],[3720867,847,3337530,383337],[3774784,853,3397587,377197],[3824586,859,3463186,361400],[3870588,864,3504573,366015],[3924638,870,3542802,381836],[3974563,876,3599258,375305],[4020679,881,3640747,379932],[4063275,885,3679071,384204],[4102621,890,3714470,388151],[4171306,897,3747168,424138],[4234750,904,3815805,418945],[4304891,911,3868529,436362],[4369680,918,3926818,442862],[4429524,924,4013001,416523],[4496360,932,4062734,433626],[4558096,938,4118276,439820],[4615121,944,4181119,434002],[4667794,950,4228509,439285],[4727997,956,4272282,455715],[4783606,961,4322312,461294],[4834971,967,4380083,454888],[4882417,971,4422769,459648],[4926243,976,4462198,464045],[4966724,980,4498618,468106],[5004116,983,4532259,471857],[5038654,987,4574882,463772],[5070557,990,4603585,466972],[5100026,993,4630097,469929],[5127246,995,4654586,472660],[5152389,998,4677207,475182],[5175613,1000,4698101,477512],[5197065,1002,4717401,479664],[5216880,1004,4735229,481651],[5235183,1006,4751696,483487],[5252089,1007,4766906,485183],[5267706,1009,4780956,486750],[5282130,1010,4793933,488197],[5295454,1012,4805921,489533],[5307761,1013,4816993,490768],[5319130,1014,4827221,491909],[5329630,1015,4836668,492962],[5339329,1016,4845395,493934],[5348289,1017,4853455,494834],[5356564,1017,4860900,495664],[5364208,1018,4867778,496430],[5371269,1019,4874130,497139],[5377791,1019,4879998,497793],[5383815,1020,4885418,498397],[5389380,1021,4890424,498956],[5394520,1021,4895048,499472],[5399267,1021,4899320,499947],[5403653,1022,4903265,500388],[5407704,1022,4906910,500794],[5411445,1023,4910276,501169],[5414901,1023,4913386,501515],[5418094,1023,4916258,501836],[5421043,1024,4918911,502132],[5423766,1024,4921361,502405],[5426282,1024,4923625,502657],[5428606,1024,4925716,502890],[5430753,1024,4927647,503106],[5432736,1025,4929431,503305],[5434567,1025,4931079,503488],[5436259,1025,4932601,503658],[5437822,1025,4934007,503815],[5439265,1025,4935305,503960],[5440599,1025,4936505,504094],[5441830,1026,4937613,504217],[5442968,1026,4938636,504332],[5444018,1026,4939582,504436],[5444989,1026,4940455,504534],[5445885,1026,4941261,504624],[5446714,1026,4942006,504708],[5447478,1026,4942695,504783],[5448185,1026,4943330,504855],[5448838,1026,4943917,504921],[5449440,1026,4944460,504980],[5449997,1026,4944961,505036],[5450512,1026,4945423,505089],[5450987,1026,4945851,505136],[5451426,1026,4946246,505180],[5451831,1026,4946610,505221],[5452205,1027,4946947,505258],[5452551,1027,4947258,505293],[5452871,1027,4947546,505325],[5453166,1027,4947811,505355],[5453438,1027,4948057,505381],[5453690,1027,4948283,505407],[5453923,1027,4948492,505431],[5454137,1027,4948686,505451],[5454336,1027,4948864,505472],[5454519,1027,4949029,505490],[5454688,1027,4949181,505507],[5454845,1027,4949322,505523],[5454989,1027,4949452,505537],[5455123,1027,4949572,505551],[5455246,1027,4949683,505563],[5455360,1027,4949785,505575],[5455465,1027,4949880,505585],[5455562,1027,4949968,505594],[5455652,1027,4950049,505603],[5455736,1027,4950123,505613],[5455813,1027,4950193,505620],[5455884,1027,4950257,505627]]; //taken from a modified progression calculator

let endBorb = 1027;
let borb = endBorb;
let strats = [];
let treshold = endBorb;
let treshold2 = endBorb + 1;

//[[borbTarget,...], [time,...], totalTime]
strats[endBorb] = [[], [], 0];

let minBorb = 185;
let zoneToBorb = [];
for (let i=0; i<ascTable.length; i++) {
    let a = ascTable[i];
    if (a[1] > zoneToBorb.length) {
        zoneToBorb[a[1]] = a[0];
    }
}

let borbToZone = [];

function getTime(borb, goal) {
    let zones = 8050 * 168;
    let borbLimit = borb * 5000;
    if (goal < 437) {
        let as = (goal + 1) * goal / 2;
        let zone = ((as + 1000) / 5 - 4) / 0.09691001300805641435878331582652 * 5 + 100;
        zones -= 1e6 - zone;
        if (zone > borbLimit) {
            let x = zone - borbLimit;
            zones += x * x / 10830;
        }
        return [Math.round(zone), zones];
    }
    for (let i=0; i<ascTable.length; i++) {
        let a = ascTable[i];
        let tl = a[2];
        zones += Number(a[3]) + 8000;
        if (a[0] > borbLimit) {
            let x = a[0] - borbLimit;
            zones += x * x / 10830;
        }
        if (tl > borbLimit) {
            zones += tl - borbLimit;
        }
        if (a[1] >= goal) {
            return [Number(a[0]), zones];
        }
    }
    return Infinity;
}

while (borb > minBorb ) {
    borb--;
    let singleTZone = 0;
    let singleT = [[], [], Infinity];
    for (let i=treshold; i<treshold2; i++) {
        let [zone, time] = getTime(borb,i);
        let totalTime = time + strats[i][2];
        if (totalTime < singleT[2]) {
            let strat = strats[i];
            singleT = [
                [i].concat(strat[0]),
                [time].concat(strat[1]),
                totalTime
            ];
            singleTZone = zone;
        }
    }
    if (borb > (treshold - 2)) {
        strats[borb] = singleT;
        borbToZone[borb] = singleTZone;
        continue;
    }
    let doubleTZone = 0;
    let doubleT = [[], [], Infinity];
    for (let j=borb+1; j<treshold; j++) {
        for (let k=treshold; k<treshold2; k++) {
            let [z1, t1] = getTime(borb, j);
            let [z2, t2] = getTime(j, k);
            let time = [t1, t2];
            let totalTime = time[0] + time[1] + strats[k][2];
            if (totalTime < doubleT[2]) {
                let strat = strats[k];
                doubleT = [
                    [j, k].concat(strat[0]),
                    time.concat(strat[1]),
                    totalTime,
                    singleT
                ];
                doubleTZone = [z1, z2];
            }
        }
    }
    if (doubleT[2] < singleT[2]) {
        treshold2 = treshold;
        treshold = borb + 1;
        strats[borb] = doubleT;
        borbToZone[borb] = doubleTZone[0];
    } else {
        strats[borb] = singleT;
        borbToZone[borb] = singleTZone;
    }
}

console.log(JSON.stringify(borbToZone));
